#!/usr/bin/env python3
"""
–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –Ω–µ—É–¥–∞—á–Ω–æ–º –ø–µ—Ä–µ—Å—á–µ—Ç–µ —Ñ–æ—Ä–º—É–ª.
"""

import sys
from pathlib import Path

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –º–æ–¥—É–ª—é
sys.path.insert(0, str(Path(__file__).parent))

from maintenance_alert import create_email_body

def test_warning_message():
    """–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ø–∏—Å—å–º–µ"""
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    urgent_items = []
    warning_items = []  
    total_records = 100
    status_counts = {
        '–û–ë–°–õ–£–ñ–ò–¢–¨': 5,
        '–í–Ω–∏–º–∞–Ω–∏–µ': 10,
        '–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è': 85
    }
    
    print("=" * 60)
    print("üß™ –¢–ï–°–¢ –ü–†–ï–î–£–ü–†–ï–ñ–î–ê–Æ–©–ï–ì–û –°–û–û–ë–©–ï–ù–ò–Ø")
    print("=" * 60)
    
    # –¢–µ—Å—Ç 1: –£—Å–ø–µ—à–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç (–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ)
    print("\n1. –¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ (–±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è):")
    email_body_normal, _ = create_email_body(urgent_items, warning_items, total_records, status_counts, recalc_success=True)
    
    if "–í–ù–ò–ú–ê–ù–ò–ï! –¢–ê–ë–õ–ò–¶–ê –û–¢–ö–†–´–¢–ê!" in email_body_normal:
        print("‚ùå –û–®–ò–ë–ö–ê: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ—è–≤–∏–ª–æ—Å—å –≤ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º –ø–∏—Å—å–º–µ!")
    else:
        print("‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è - OK")
    
    # –¢–µ—Å—Ç 2: –ù–µ—É–¥–∞—á–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç (–ø–∏—Å—å–º–æ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º)  
    print("\n2. –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–∏—Å—å–º–æ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º:")
    email_body_warning, _ = create_email_body(urgent_items, warning_items, total_records, status_counts, recalc_success=False)
    
    if "–í–ù–ò–ú–ê–ù–ò–ï! –¢–ê–ë–õ–ò–¶–ê –û–¢–ö–†–´–¢–ê!" in email_body_warning:
        print("‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –ø–∏—Å—å–º–æ")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ñ—Ä–∞–∑
        if "–ü–µ—Ä–µ—Ä–∞—Å—á—ë—Ç –≥—Ä–∞—Ñ–∏–∫–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω!" in email_body_warning:
            print("‚úÖ –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ")
        if "–ø—Ä–æ–∫–ª—è—Ç–æ–º –º–∏—Ä–µ" in email_body_warning:
            print("‚úÖ –≠–ø–∏—á–µ—Å–∫–∞—è —Ñ—Ä–∞–∑–∞ –Ω–∞–π–¥–µ–Ω–∞")
        if "–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ—á–µ–Ω–∏–µ —Å—É–¥—å–±—ã" in email_body_warning:
            print("‚úÖ –ú–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Ñ—Ä–∞–∑–∞ –Ω–∞–π–¥–µ–Ω–∞")
            
    else:
        print("‚ùå –û–®–ò–ë–ö–ê: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ù–ï –ø–æ—è–≤–∏–ª–æ—Å—å –≤ –ø–∏—Å—å–º–µ —Å –æ—à–∏–±–∫–æ–π!")
    
    print("\n" + "=" * 60)
    print("üìä –†–ï–ó–£–õ–¨–¢–ê–¢ –¢–ï–°–¢–ê")
    print("=" * 60)
    print("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!")
    print("–ü—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–º –ø–µ—Ä–µ—Å—á–µ—Ç–µ —Ñ–æ—Ä–º—É–ª –≤ —à–∞–ø–∫—É –ø–∏—Å—å–º–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —è—Ä–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.")

if __name__ == "__main__":
    test_warning_message()